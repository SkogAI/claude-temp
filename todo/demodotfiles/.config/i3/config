# i3 config file (v4)
# i3 version 4.25.1
# Reference: https://i3wm.org/docs/userguide.html

###############################################################################
# Variables
###############################################################################

# Modifier key: Mod4 = Super/Windows key
set $mod Mod4

# Direction keys (vim home row)
set $left h
set $down j
set $up k
set $right l

# Workspace names
set $ws1 "1:one"
set $ws2 "2:two"
set $ws3 "3:three"
set $ws4 "4:four"
set $ws5 "5:five"
set $ws6 "6:six"
set $ws7 "7:seven"
set $ws8 "8:eight"
set $ws9 "9:nine"
set $ws10 "10:ten"

###############################################################################
# General settings
###############################################################################

# Font for window titles and bar (unless overridden in bar {})
font pango:Fira Code 10

# Orientation for new workspaces: auto picks based on monitor aspect ratio
# (horizontal for wide, vertical for tall)
default_orientation auto

# Layout mode for new containers on workspace level
workspace_layout default

# Window title text alignment
title_align left

# Default border style for new tiling windows (normal = title bar + border)
default_border normal

# Default border style for new floating windows
default_floating_border normal

# Hide borders adjacent to screen edges
hide_edge_borders none

# Focus follows mouse across window borders
focus_follows_mouse yes

# Warp mouse cursor to center of window when switching outputs
mouse_warping output

# Focus wrapping within containers
focus_wrapping yes

# Popup handling during fullscreen (smart = show if belongs to fullscreen app)
popup_during_fullscreen smart

# Pressing the same workspace key switches back to previous workspace
workspace_auto_back_and_forth no

# Delay before resetting urgency hint color after switching to urgent workspace
force_display_urgency_hint 500 ms

# What happens when a window requests activation (smart = focus if on active
# workspace, otherwise set urgent)
focus_on_window_activation smart

# Draw marks on window decorations (marks starting with _ are always hidden)
show_marks yes

# No gaps between windows (default)
gaps inner 2
gaps outer 0
smart_gaps off

# Do not force xinerama (only needed for old nvidia drivers)
force_xinerama no

###############################################################################
# Window colors
###############################################################################

# Catppuccin Mocha palette
set $rosewater #f5e0dc
set $flamingo  #f2cdcd
set $pink      #f5c2e7
set $mauve     #cba6f7
set $red       #f38ba8
set $maroon    #eba0ac
set $peach     #fab387
set $yellow    #f9e2af
set $green     #a6e3a1
set $teal      #94e2d5
set $sky       #89dceb
set $sapphire  #74c7ec
set $blue      #89b4fa
set $lavender  #b4befe
set $text      #cdd6f4
set $subtext1  #bac2de
set $subtext0  #a6adc8
set $overlay2  #9399b2
set $overlay1  #7f849c
set $overlay0  #6c7086
set $surface2  #585b70
set $surface1  #45475a
set $surface0  #313244
set $base      #1e1e2e
set $mantle    #181825
set $crust     #11111b

# class                 border    backgr.   text      indicator child_border
client.focused          $lavender $base     $text     $mauve    $lavender
client.focused_inactive $surface1 $base     $subtext1 $surface1 $surface1
client.unfocused        $surface0 $base     $overlay0 $surface0 $surface0
client.urgent           $red      $base     $red      $red      $red
client.placeholder      $base     $base     $text     $base     $base

client.background       $base

###############################################################################
# Floating
###############################################################################

# Hold $mod and drag with mouse to move floating windows
floating_modifier $mod

# Tiling drag: initiate by modifier key or titlebar click
tiling_drag modifier titlebar

###############################################################################
# Key bindings: launching
###############################################################################

# Terminal
bindsym $mod+Return exec kitty

# Web browser
bindsym $mod+Shift+Return exec chromium

# Program launcher (dmenu)
bindsym $mod+space exec --no-startup-id dmenu_run

# Kill focused window
bindsym --whole-window $mod+button3 kill

###############################################################################
# Key bindings: focus
###############################################################################

# Focus (home row)
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Focus (arrow keys)
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Focus parent/child container
bindsym $mod+a focus parent
#bindsym $mod+d focus child

# Focus toggle between tiling / floating (unbound â€” $mod+space used for launcher)

###############################################################################
# Key bindings: movement
###############################################################################

# Move container (directional)
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Switch workspace prev/next
bindsym $mod+Ctrl+$left workspace prev_on_output
bindsym $mod+Ctrl+$right workspace next_on_output

# Move container to workspace prev/next and follow
bindsym $mod+Shift+Ctrl+$left move container to workspace prev_on_output, workspace prev_on_output
bindsym $mod+Shift+Ctrl+$right move container to workspace next_on_output, workspace next_on_output

# Move focused window (arrow keys)
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

###############################################################################
# Key bindings: layout
###############################################################################

# Split orientation
bindsym $mod+v split v

# Cycle container layout
bindsym $mod+t layout toggle all

# Fullscreen
bindsym $mod+f fullscreen toggle

# Toggle tiling / floating
bindsym $mod+Shift+space floating toggle

###############################################################################
# Key bindings: scratchpad
###############################################################################

# Move window to scratchpad
bindsym $mod+Shift+s move scratchpad

# Show/cycle scratchpad windows
bindsym $mod+s scratchpad show

###############################################################################
# Key bindings: workspaces
###############################################################################

# Switch to workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

###############################################################################
# Key bindings: i3 management
###############################################################################

# Reload configuration file
bindsym $mod+Shift+c reload

# Restart i3 inplace (preserves layout/session)
bindsym $mod+Shift+r restart

# Exit i3
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

###############################################################################
# Resize mode
###############################################################################

mode "resize" {
        bindsym $left       resize shrink width 10 px or 10 ppt
        bindsym $down       resize grow height 10 px or 10 ppt
        bindsym $up         resize shrink height 10 px or 10 ppt
        bindsym $right      resize grow width 10 px or 10 ppt

        bindsym Left        resize shrink width 10 px or 10 ppt
        bindsym Down        resize grow height 10 px or 10 ppt
        bindsym Up          resize shrink height 10 px or 10 ppt
        bindsym Right       resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

###############################################################################
# Bar
###############################################################################

bar {
        status_command i3status
        position bottom
        mode dock
        hidden_state hide
        modifier Mod4
        workspace_buttons yes
        workspace_min_width 0
        strip_workspace_numbers no
        strip_workspace_name no
        binding_mode_indicator yes
        tray_padding 2

        colors {
                background $base
                statusline $text
                separator $overlay0

                # class            border    backgr.   text
                focused_workspace  $lavender $base     $text
                active_workspace   $surface1 $base     $subtext1
                inactive_workspace $surface0 $base     $overlay0
                urgent_workspace   $red      $base     $red
                binding_mode       $mauve    $base     $text
        }
}

###############################################################################
# Autostart
###############################################################################

# Screen lock before suspend
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# Network manager tray icon
exec --no-startup-id nm-applet

